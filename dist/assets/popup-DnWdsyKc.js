import{r as i,j as s,c as u,R as m}from"./client-DwSWSQPj.js";import{s as o}from"./SyncManager-DKmU1sbf.js";function h(){const[e,c]=i.useState({status:"online",lastSync:Date.now(),pendingCount:0,retryCount:0});i.useEffect(()=>{const r=o.onStatusChange(c);return()=>r},[]);const a=async()=>{await o.manualSync()},l=r=>{const d=new Date(r),t=Math.floor((new Date().getTime()-d.getTime())/6e4);return t<1?"åˆšåˆš":t<60?`${t}åˆ†é’Ÿå‰`:t<1440?`${Math.floor(t/60)}å°æ—¶å‰`:d.toLocaleDateString("zh-CN")};return s.jsxs("div",{className:`sync-status ${e.status}`,children:[s.jsxs("div",{className:"sync-status-header",children:[s.jsxs("span",{className:"sync-icon",children:[e.status==="online"&&"ğŸŸ¢",e.status==="offline"&&"ğŸŸ¡",e.status==="syncing"&&"ğŸ”„"]}),s.jsxs("span",{className:"sync-text",children:[e.status==="online"&&"åœ¨çº¿",e.status==="offline"&&"ç¦»çº¿æ¨¡å¼",e.status==="syncing"&&"åŒæ­¥ä¸­..."]}),e.status==="online"&&s.jsxs("span",{className:"sync-last",children:["ä¸Šæ¬¡åŒæ­¥ï¼š",l(e.lastSync)]})]}),e.status==="offline"&&s.jsxs("div",{className:"sync-offline-details",children:[s.jsxs("div",{className:"pending-count",children:["å¾…åŒæ­¥ï¼š",e.pendingCount," æ¡"]}),s.jsx("button",{className:"btn btn-sync",onClick:a,disabled:e.pendingCount===0,children:"ç«‹å³åŒæ­¥"})]})]})}function x({visible:e,pendingCount:c,onDismiss:a}){return e?s.jsxs("div",{className:"warning-banner",children:[s.jsx("div",{className:"warning-icon",children:"âš ï¸"}),s.jsxs("div",{className:"warning-content",children:[s.jsx("div",{className:"warning-title",children:"åç«¯æœåŠ¡ä¸å¯ç”¨"}),s.jsxs("div",{className:"warning-message",children:["æ­£åœ¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œ",c," æ¡æ•°æ®å¾…åŒæ­¥",s.jsx("br",{}),s.jsx("small",{children:"æ•°æ®å°†åœ¨åå°æ¢å¤åè‡ªåŠ¨åŒæ­¥"})]})]}),a&&s.jsx("button",{className:"warning-dismiss",onClick:a,children:"âœ•"})]}):null}function j(){const[e,c]=i.useState("tweets"),[a,l]=i.useState(!1),[r,d]=i.useState(0);return i.useEffect(()=>{const n=o.onStatusChange(t=>{d(t.pendingCount),l(t.status==="offline"&&t.pendingCount>0)});return()=>n},[]),s.jsxs("div",{className:"app",children:[s.jsxs("header",{className:"header",children:[s.jsxs("h1",{children:["ğŸ¦ Twitter Scraper ",s.jsx("span",{className:"version",children:"v2.2"})]}),s.jsx(h,{})]}),s.jsx(x,{visible:a,pendingCount:r,onDismiss:()=>l(!1)}),s.jsx("nav",{className:"tabs",children:["tweets","filtered","summary","settings"].map(n=>s.jsxs("button",{className:`tab ${e===n?"active":""}`,onClick:()=>c(n),children:[n==="tweets"&&"å…¨éƒ¨å¸–å­",n==="filtered"&&"ç­›é€‰ç»“æœ",n==="summary"&&"åˆ†ææŠ¥å‘Š",n==="settings"&&"è®¾ç½®"]},n))}),s.jsxs("main",{className:"content",children:[e==="tweets"&&s.jsx(p,{}),e==="filtered"&&s.jsx(f,{}),e==="summary"&&s.jsx(N,{}),e==="settings"&&s.jsx(b,{})]}),s.jsx("footer",{className:"footer",children:s.jsx("button",{className:"btn btn-primary",children:"ğŸ“¥ å¯¼å‡ºå…¨éƒ¨"})})]})}function p(){return s.jsx("div",{className:"tab-content",children:s.jsxs("div",{className:"empty",children:[s.jsx("p",{children:"æš‚æ— æ•°æ®"}),s.jsx("small",{children:"æ‰“å¼€ Twitter é¡µé¢å¼€å§‹æŠ“å–"})]})})}function f(){return s.jsx("div",{className:"tab-content",children:s.jsxs("div",{className:"empty",children:[s.jsx("p",{children:"æš‚æ— ç­›é€‰ç»“æœ"}),s.jsx("button",{className:"btn btn-primary",children:"ğŸ¤– è¿è¡Œç­›é€‰"})]})})}function N(){return s.jsx("div",{className:"tab-content",children:s.jsxs("div",{className:"empty",children:[s.jsx("p",{children:"æš‚æ— åˆ†ææŠ¥å‘Š"}),s.jsx("button",{className:"btn btn-primary",children:"ç”ŸæˆæŠ¥å‘Š"})]})})}function b(){return s.jsxs("div",{className:"tab-content settings-content",children:[s.jsxs("div",{className:"form-section",children:[s.jsx("h3",{children:"ğŸ¤– LLM é…ç½®"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"æä¾›å•†"}),s.jsxs("select",{children:[s.jsx("option",{value:"zhipu",children:"æ™ºè°± GLM"}),s.jsx("option",{value:"deepseek",children:"DeepSeek"}),s.jsx("option",{value:"openai",children:"OpenAI"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"API Key"}),s.jsx("input",{type:"password",placeholder:"è¾“å…¥ API Key"})]})]}),s.jsxs("div",{className:"form-section",children:[s.jsx("h3",{children:"âš™ï¸ ç­›é€‰è®¾ç½®"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"æœ€ä½ç›¸å…³åº¦ (1-10)"}),s.jsx("input",{type:"number",min:"1",max:"10",defaultValue:5})]})]}),s.jsx("div",{className:"actions",children:s.jsx("button",{className:"btn btn-primary",children:"ä¿å­˜è®¾ç½®"})})]})}u.createRoot(document.getElementById("root")).render(s.jsx(m.StrictMode,{children:s.jsx(j,{})}));
